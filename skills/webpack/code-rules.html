<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack配置之代码规范 | 一葦</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/icons/favicon.ico">
    <link rel="manifest" href="/js/mainfest.json">
    <link rel="stylesheet" href="/styles/css/style.css">
    <script type="utf-8" src="/js/disable-user-zoom.js"></script>
    <meta name="description" content="这是一苇的前端技术博客哦~">
    <meta name="Author" content="一苇">
    <meta rel="keywords" content="verneyzhou,阿沐,一苇,前端,docs.verneyzhou-code.cn,博客,fe,IT,技术">
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
    <meta name="viewport" content="width=device-width,width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.3c92d36b.css" as="style"><link rel="preload" href="/assets/js/app.2e7fb202.js" as="script"><link rel="preload" href="/assets/js/3.7ffbe2ab.js" as="script"><link rel="preload" href="/assets/js/158.a11096ba.js" as="script"><link rel="preload" href="/assets/js/4.245b4373.js" as="script"><link rel="prefetch" href="/assets/js/10.4d0c49b9.js"><link rel="prefetch" href="/assets/js/100.0d78136f.js"><link rel="prefetch" href="/assets/js/101.1b5029b7.js"><link rel="prefetch" href="/assets/js/102.2acf0798.js"><link rel="prefetch" href="/assets/js/103.c632265b.js"><link rel="prefetch" href="/assets/js/104.37e76a05.js"><link rel="prefetch" href="/assets/js/105.eea9ab57.js"><link rel="prefetch" href="/assets/js/106.94b0173f.js"><link rel="prefetch" href="/assets/js/107.bb9864ef.js"><link rel="prefetch" href="/assets/js/108.47949515.js"><link rel="prefetch" href="/assets/js/109.b7a80d3b.js"><link rel="prefetch" href="/assets/js/11.c766cbe6.js"><link rel="prefetch" href="/assets/js/110.65eef9d4.js"><link rel="prefetch" href="/assets/js/111.5d7f05a0.js"><link rel="prefetch" href="/assets/js/112.79f7a23f.js"><link rel="prefetch" href="/assets/js/113.d2a488d0.js"><link rel="prefetch" href="/assets/js/114.6e8e24ea.js"><link rel="prefetch" href="/assets/js/115.f13f5e93.js"><link rel="prefetch" href="/assets/js/116.c48f3f00.js"><link rel="prefetch" href="/assets/js/117.9e71874c.js"><link rel="prefetch" href="/assets/js/118.0365691c.js"><link rel="prefetch" href="/assets/js/119.ddf35541.js"><link rel="prefetch" href="/assets/js/12.530223f1.js"><link rel="prefetch" href="/assets/js/120.d6a23d9e.js"><link rel="prefetch" href="/assets/js/121.a481fcc4.js"><link rel="prefetch" href="/assets/js/122.fa395dd6.js"><link rel="prefetch" href="/assets/js/123.8dee52e0.js"><link rel="prefetch" href="/assets/js/124.43a76748.js"><link rel="prefetch" href="/assets/js/125.2b5713d4.js"><link rel="prefetch" href="/assets/js/126.e571be5d.js"><link rel="prefetch" href="/assets/js/127.87d15002.js"><link rel="prefetch" href="/assets/js/128.024359e4.js"><link rel="prefetch" href="/assets/js/129.9884b4bb.js"><link rel="prefetch" href="/assets/js/13.299e9c3c.js"><link rel="prefetch" href="/assets/js/130.8e8ec392.js"><link rel="prefetch" href="/assets/js/131.a56bbf5a.js"><link rel="prefetch" href="/assets/js/132.e369e8a1.js"><link rel="prefetch" href="/assets/js/133.dd8d6f15.js"><link rel="prefetch" href="/assets/js/134.587a8860.js"><link rel="prefetch" href="/assets/js/135.1301161b.js"><link rel="prefetch" href="/assets/js/136.71e96e71.js"><link rel="prefetch" href="/assets/js/137.1a8b5705.js"><link rel="prefetch" href="/assets/js/138.13573423.js"><link rel="prefetch" href="/assets/js/139.2ed5be55.js"><link rel="prefetch" href="/assets/js/14.27619466.js"><link rel="prefetch" href="/assets/js/140.49f93f23.js"><link rel="prefetch" href="/assets/js/141.db65eedf.js"><link rel="prefetch" href="/assets/js/142.35c03ef7.js"><link rel="prefetch" href="/assets/js/143.d9a753d2.js"><link rel="prefetch" href="/assets/js/144.8d179568.js"><link rel="prefetch" href="/assets/js/145.0fd8eda5.js"><link rel="prefetch" href="/assets/js/146.1614cd31.js"><link rel="prefetch" href="/assets/js/147.1f8c8945.js"><link rel="prefetch" href="/assets/js/148.377a6f55.js"><link rel="prefetch" href="/assets/js/149.3cce8fa6.js"><link rel="prefetch" href="/assets/js/15.5e163b6d.js"><link rel="prefetch" href="/assets/js/150.197796dc.js"><link rel="prefetch" href="/assets/js/151.8be597a5.js"><link rel="prefetch" href="/assets/js/152.65a308c5.js"><link rel="prefetch" href="/assets/js/153.f1a4e460.js"><link rel="prefetch" href="/assets/js/154.9e3c6051.js"><link rel="prefetch" href="/assets/js/155.32737f02.js"><link rel="prefetch" href="/assets/js/156.7f7b8a0d.js"><link rel="prefetch" href="/assets/js/157.1d4c8316.js"><link rel="prefetch" href="/assets/js/159.f9f6c076.js"><link rel="prefetch" href="/assets/js/16.6377681b.js"><link rel="prefetch" href="/assets/js/160.1a984fc3.js"><link rel="prefetch" href="/assets/js/161.c0bdace0.js"><link rel="prefetch" href="/assets/js/162.45223b4c.js"><link rel="prefetch" href="/assets/js/163.dca039a1.js"><link rel="prefetch" href="/assets/js/164.7607d0bf.js"><link rel="prefetch" href="/assets/js/165.c5621110.js"><link rel="prefetch" href="/assets/js/166.0bb7199e.js"><link rel="prefetch" href="/assets/js/167.9a9fbb7d.js"><link rel="prefetch" href="/assets/js/168.e1acfe91.js"><link rel="prefetch" href="/assets/js/169.1fdc14d0.js"><link rel="prefetch" href="/assets/js/17.1c1908ab.js"><link rel="prefetch" href="/assets/js/170.b70b623c.js"><link rel="prefetch" href="/assets/js/171.9815d143.js"><link rel="prefetch" href="/assets/js/172.fff650d5.js"><link rel="prefetch" href="/assets/js/173.9c7cc3bb.js"><link rel="prefetch" href="/assets/js/174.52d7ea40.js"><link rel="prefetch" href="/assets/js/175.beb33995.js"><link rel="prefetch" href="/assets/js/176.f894af4b.js"><link rel="prefetch" href="/assets/js/177.d8a9b44f.js"><link rel="prefetch" href="/assets/js/178.71c66889.js"><link rel="prefetch" href="/assets/js/179.d413059e.js"><link rel="prefetch" href="/assets/js/18.77f3e444.js"><link rel="prefetch" href="/assets/js/180.b50d733c.js"><link rel="prefetch" href="/assets/js/181.335287be.js"><link rel="prefetch" href="/assets/js/182.5b4e8b26.js"><link rel="prefetch" href="/assets/js/183.9c839eb7.js"><link rel="prefetch" href="/assets/js/184.e2d2291e.js"><link rel="prefetch" href="/assets/js/185.6468084e.js"><link rel="prefetch" href="/assets/js/186.318b0476.js"><link rel="prefetch" href="/assets/js/187.a5f81ff0.js"><link rel="prefetch" href="/assets/js/188.d0a32c4f.js"><link rel="prefetch" href="/assets/js/189.c0316fa5.js"><link rel="prefetch" href="/assets/js/19.202ebbab.js"><link rel="prefetch" href="/assets/js/190.9ff32bb2.js"><link rel="prefetch" href="/assets/js/191.227776e1.js"><link rel="prefetch" href="/assets/js/192.daa9b176.js"><link rel="prefetch" href="/assets/js/193.234df76b.js"><link rel="prefetch" href="/assets/js/194.694d7eab.js"><link rel="prefetch" href="/assets/js/195.dbccd798.js"><link rel="prefetch" href="/assets/js/196.f0826c19.js"><link rel="prefetch" href="/assets/js/197.06887a14.js"><link rel="prefetch" href="/assets/js/198.b16405cd.js"><link rel="prefetch" href="/assets/js/199.d1ac766c.js"><link rel="prefetch" href="/assets/js/20.1c163405.js"><link rel="prefetch" href="/assets/js/200.a9d137c9.js"><link rel="prefetch" href="/assets/js/201.9e8d333e.js"><link rel="prefetch" href="/assets/js/202.d8d46dbd.js"><link rel="prefetch" href="/assets/js/203.eacdfaad.js"><link rel="prefetch" href="/assets/js/204.adce41d8.js"><link rel="prefetch" href="/assets/js/205.ca578ff9.js"><link rel="prefetch" href="/assets/js/206.6a336185.js"><link rel="prefetch" href="/assets/js/207.983d3f8f.js"><link rel="prefetch" href="/assets/js/208.6e2745d4.js"><link rel="prefetch" href="/assets/js/209.a42932a6.js"><link rel="prefetch" href="/assets/js/21.c110fe63.js"><link rel="prefetch" href="/assets/js/210.afa16901.js"><link rel="prefetch" href="/assets/js/211.99bb075b.js"><link rel="prefetch" href="/assets/js/212.787e1b16.js"><link rel="prefetch" href="/assets/js/213.ea073177.js"><link rel="prefetch" href="/assets/js/214.8fe5c8cc.js"><link rel="prefetch" href="/assets/js/215.5f4cefd7.js"><link rel="prefetch" href="/assets/js/216.356d8340.js"><link rel="prefetch" href="/assets/js/217.db29a538.js"><link rel="prefetch" href="/assets/js/218.66accfbc.js"><link rel="prefetch" href="/assets/js/219.2390498d.js"><link rel="prefetch" href="/assets/js/22.e6f09907.js"><link rel="prefetch" href="/assets/js/220.65246673.js"><link rel="prefetch" href="/assets/js/221.3baa24a9.js"><link rel="prefetch" href="/assets/js/222.d62f31e6.js"><link rel="prefetch" href="/assets/js/223.4051b754.js"><link rel="prefetch" href="/assets/js/224.875f84c3.js"><link rel="prefetch" href="/assets/js/225.c060a217.js"><link rel="prefetch" href="/assets/js/226.c2eec2e9.js"><link rel="prefetch" href="/assets/js/227.098f8e27.js"><link rel="prefetch" href="/assets/js/228.8be6ae7f.js"><link rel="prefetch" href="/assets/js/23.e66681ea.js"><link rel="prefetch" href="/assets/js/24.252b041b.js"><link rel="prefetch" href="/assets/js/25.96ab5f4a.js"><link rel="prefetch" href="/assets/js/26.608a5d1b.js"><link rel="prefetch" href="/assets/js/27.53ff70b5.js"><link rel="prefetch" href="/assets/js/28.a2bd4260.js"><link rel="prefetch" href="/assets/js/29.de61ac11.js"><link rel="prefetch" href="/assets/js/30.7074037a.js"><link rel="prefetch" href="/assets/js/31.42f329d7.js"><link rel="prefetch" href="/assets/js/32.10c4b1d1.js"><link rel="prefetch" href="/assets/js/33.dc5aba85.js"><link rel="prefetch" href="/assets/js/34.9c5f577a.js"><link rel="prefetch" href="/assets/js/35.096da00f.js"><link rel="prefetch" href="/assets/js/36.cef188e7.js"><link rel="prefetch" href="/assets/js/37.3895543f.js"><link rel="prefetch" href="/assets/js/38.290e609c.js"><link rel="prefetch" href="/assets/js/39.c4f5a502.js"><link rel="prefetch" href="/assets/js/40.ffcb5c5a.js"><link rel="prefetch" href="/assets/js/41.615b8cd3.js"><link rel="prefetch" href="/assets/js/42.070a8456.js"><link rel="prefetch" href="/assets/js/43.45f438ce.js"><link rel="prefetch" href="/assets/js/44.333b37d6.js"><link rel="prefetch" href="/assets/js/45.a0235304.js"><link rel="prefetch" href="/assets/js/46.a2739549.js"><link rel="prefetch" href="/assets/js/47.f6f2afd0.js"><link rel="prefetch" href="/assets/js/48.02eebcc0.js"><link rel="prefetch" href="/assets/js/49.cca68b57.js"><link rel="prefetch" href="/assets/js/5.6ab4bad1.js"><link rel="prefetch" href="/assets/js/50.35b90c07.js"><link rel="prefetch" href="/assets/js/51.babf6c69.js"><link rel="prefetch" href="/assets/js/52.a2cb12d4.js"><link rel="prefetch" href="/assets/js/53.cdc95c94.js"><link rel="prefetch" href="/assets/js/54.07b08901.js"><link rel="prefetch" href="/assets/js/55.a4e7fb54.js"><link rel="prefetch" href="/assets/js/56.7c8475c0.js"><link rel="prefetch" href="/assets/js/57.d62b616a.js"><link rel="prefetch" href="/assets/js/58.727b3415.js"><link rel="prefetch" href="/assets/js/59.f72ed165.js"><link rel="prefetch" href="/assets/js/6.9db196de.js"><link rel="prefetch" href="/assets/js/60.0adc2f64.js"><link rel="prefetch" href="/assets/js/61.be526bd5.js"><link rel="prefetch" href="/assets/js/62.4b595b7b.js"><link rel="prefetch" href="/assets/js/63.33b6f9be.js"><link rel="prefetch" href="/assets/js/64.03b6e77a.js"><link rel="prefetch" href="/assets/js/65.278ee99b.js"><link rel="prefetch" href="/assets/js/66.c3309bfb.js"><link rel="prefetch" href="/assets/js/67.86d207fc.js"><link rel="prefetch" href="/assets/js/68.0f9ea0d0.js"><link rel="prefetch" href="/assets/js/69.aac22b54.js"><link rel="prefetch" href="/assets/js/7.19695e84.js"><link rel="prefetch" href="/assets/js/70.08e3149f.js"><link rel="prefetch" href="/assets/js/71.dda331fc.js"><link rel="prefetch" href="/assets/js/72.8aee99c7.js"><link rel="prefetch" href="/assets/js/73.5046c7ef.js"><link rel="prefetch" href="/assets/js/74.84396701.js"><link rel="prefetch" href="/assets/js/75.d76edc1f.js"><link rel="prefetch" href="/assets/js/76.879ee6b5.js"><link rel="prefetch" href="/assets/js/77.1417b15d.js"><link rel="prefetch" href="/assets/js/78.42f37b21.js"><link rel="prefetch" href="/assets/js/79.87614aa7.js"><link rel="prefetch" href="/assets/js/8.a2d18997.js"><link rel="prefetch" href="/assets/js/80.b3551d66.js"><link rel="prefetch" href="/assets/js/81.a1f8529a.js"><link rel="prefetch" href="/assets/js/82.3f4e5328.js"><link rel="prefetch" href="/assets/js/83.fc59d8de.js"><link rel="prefetch" href="/assets/js/84.cd9c37f2.js"><link rel="prefetch" href="/assets/js/85.6a822a1b.js"><link rel="prefetch" href="/assets/js/86.40f0709f.js"><link rel="prefetch" href="/assets/js/87.3b798c90.js"><link rel="prefetch" href="/assets/js/88.c3297e81.js"><link rel="prefetch" href="/assets/js/89.1cee8bf5.js"><link rel="prefetch" href="/assets/js/9.fe309ea5.js"><link rel="prefetch" href="/assets/js/90.2a9111a5.js"><link rel="prefetch" href="/assets/js/91.6d74ff97.js"><link rel="prefetch" href="/assets/js/92.3b2d151b.js"><link rel="prefetch" href="/assets/js/93.dc804f54.js"><link rel="prefetch" href="/assets/js/94.c3062efe.js"><link rel="prefetch" href="/assets/js/95.206ed12d.js"><link rel="prefetch" href="/assets/js/96.17ee4201.js"><link rel="prefetch" href="/assets/js/97.f64db550.js"><link rel="prefetch" href="/assets/js/98.76a1241d.js"><link rel="prefetch" href="/assets/js/99.49a6b3e4.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.381052ad.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3c92d36b.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/icons/apple-touch-icon.png" alt="一葦" class="logo"> <span class="site-name can-hide">一葦</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/archives/" class="nav-link">时间轴</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><!----> <span class="title" style="display:;">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><!----> <span class="title" style="display:;">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/skills/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/skills/webpack/" class="nav-link router-link-active">Webpack</a></li><li class="dropdown-item"><!----> <a href="/code/" class="nav-link">源码</a></li><li class="dropdown-item"><!----> <a href="/more/web3/" class="nav-link">Web3</a></li><li class="dropdown-item"><!----> <a href="/more/" class="nav-link">更多</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><!----> <span class="title" style="display:;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>PC端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/vue-node-admin/" class="nav-link">vue-node-admin</a></li><li class="dropdown-subitem"><a href="/skills/vue/vue3-vite-admin.html" class="nav-link">vue3-vite-admin</a></li><li class="dropdown-subitem"><a href="/skills/vue/vue3-cli-admin.html" class="nav-link">vue3-cli-admin</a></li><li class="dropdown-subitem"><a href="/skills/vue/vue3-webpack5-admin.html" class="nav-link">vue3-webpack5-admin</a></li><li class="dropdown-subitem"><a href="/project/mono-react-project.html" class="nav-link">teach-react-mono</a></li></ul></li><li class="dropdown-item"><h4>移动端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/mobile-h5/" class="nav-link">微信h5</a></li><li class="dropdown-subitem"><a href="/project/mini-program/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/project/mobile/" class="nav-link">移动端开发笔记</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/more/ai/" class="nav-link">AI</a></div><div class="nav-item"><a href="/tool/" class="nav-link">其他</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><!----> <span class="title" style="display:;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/" class="nav-link">ME</a></li><li class="dropdown-item"><!----> <a href="https://github.com/verneyZhou" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="images/poster03.jpeg"> <div class="blogger-info"><h3></h3> <span>是旷野，不是轨道。</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/archives/" class="nav-link">时间轴</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><!----> <span class="title" style="display:;">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><!----> <span class="title" style="display:;">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/skills/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/skills/webpack/" class="nav-link router-link-active">Webpack</a></li><li class="dropdown-item"><!----> <a href="/code/" class="nav-link">源码</a></li><li class="dropdown-item"><!----> <a href="/more/web3/" class="nav-link">Web3</a></li><li class="dropdown-item"><!----> <a href="/more/" class="nav-link">更多</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><!----> <span class="title" style="display:;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>PC端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/vue-node-admin/" class="nav-link">vue-node-admin</a></li><li class="dropdown-subitem"><a href="/skills/vue/vue3-vite-admin.html" class="nav-link">vue3-vite-admin</a></li><li class="dropdown-subitem"><a href="/skills/vue/vue3-cli-admin.html" class="nav-link">vue3-cli-admin</a></li><li class="dropdown-subitem"><a href="/skills/vue/vue3-webpack5-admin.html" class="nav-link">vue3-webpack5-admin</a></li><li class="dropdown-subitem"><a href="/project/mono-react-project.html" class="nav-link">teach-react-mono</a></li></ul></li><li class="dropdown-item"><h4>移动端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/mobile-h5/" class="nav-link">微信h5</a></li><li class="dropdown-subitem"><a href="/project/mini-program/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/project/mobile/" class="nav-link">移动端开发笔记</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/more/ai/" class="nav-link">AI</a></div><div class="nav-item"><a href="/tool/" class="nav-link">其他</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><!----> <span class="title" style="display:;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/" class="nav-link">ME</a></li><li class="dropdown-item"><!----> <a href="https://github.com/verneyZhou" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>webpack配置之代码规范</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/skills/webpack/code-rules.html#eslint" class="sidebar-link">ESlint</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#使用" class="sidebar-link">使用</a></li><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#初始化" class="sidebar-link">初始化</a></li><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#js规范检查" class="sidebar-link">JS规范检查</a></li><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#vue自动检查" class="sidebar-link">Vue自动检查</a></li><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#ts检查" class="sidebar-link">TS检查</a></li><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#eslintrc-js配置参考" class="sidebar-link">.eslintrc.js配置参考</a></li><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#vscode配置自动检查" class="sidebar-link">VSCode配置自动检查</a></li><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#备注" class="sidebar-link">备注</a></li><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#问题记录" class="sidebar-link">问题记录</a></li></ul></li><li><a href="/skills/webpack/code-rules.html#prettier" class="sidebar-link">Prettier</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#vscode中配置" class="sidebar-link">VSCode中配置</a></li><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#项目中引入" class="sidebar-link">项目中引入</a></li></ul></li><li><a href="/skills/webpack/code-rules.html#其他" class="sidebar-link">其他</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#vetur" class="sidebar-link">Vetur</a></li><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#stylelint" class="sidebar-link">StyleLint</a></li><li class="sidebar-sub-header"><a href="/skills/webpack/code-rules.html#volar" class="sidebar-link">Volar</a></li></ul></li><li><a href="/skills/webpack/code-rules.html#参考" class="sidebar-link">参考</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/categories/?category=skills" title="分类" data-v-0c557b5e>skills</a></li><li data-v-0c557b5e><a href="/categories/?category=webpack" title="分类" data-v-0c557b5e>webpack</a></li></ul> <div class="info" data-v-0c557b5e><div title="作者" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>阿沐</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2021-11-23</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">webpack配置之代码规范<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="webpack配置之代码规范"><a href="#webpack配置之代码规范" class="header-anchor">#</a> webpack配置之代码规范</h1> <blockquote><p>这里主要是记录下我的前端代码规范学习笔记~</p></blockquote> <h2 id="eslint"><a href="#eslint" class="header-anchor">#</a> ESlint</h2> <blockquote><p><a href="http://eslint.cn/" target="_blank" rel="noopener noreferrer">ESlint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是 JavaScript 的代码检验工具, 用于查找并修复 JS 代码中的问题。</p></blockquote> <p>ESLint 是一款用于查找并报告代码中问题的工具，并且支持部分问题自动修复。其核心是通过对代码解析得到的 AST（Abstract Syntax Tree 抽象语法树）进行模式匹配，来分析代码达到检查代码质量和风格问题的能力。</p> <h3 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h3> <blockquote><p>这里先从新建一个项目实现 eslint 对 js 文件的代码检查来熟悉 eslint 的使用。</p></blockquote> <h4 id="初始化"><a href="#初始化" class="header-anchor">#</a> 初始化</h4> <ul><li><p>新建项目：<code>mkdir eslint-js</code></p></li> <li><p>添加脚本文件：<code>npm init -y</code></p></li> <li><p>安装eslint: <code>npm i eslint -D</code></p></li> <li><p>配置初始化: <code>npx eslint --init</code></p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>✔ How would you like to use ESLint? · problems
✔ What <span class="token builtin class-name">type</span> of modules does your project use? · esm
✔ Which framework does your project use? · vue
✔ Does your project use TypeScript? · No / Yes
✔ Where does your code run? · browser
✔ What <span class="token function">format</span> <span class="token keyword">do</span> you want your config <span class="token function">file</span> to be in? · JavaScript
The config that you've selected requires the following dependencies:

eslint-plugin-vue@latest
✔ Would you like to <span class="token function">install</span> them now with npm? · No / Yes
</code></pre></div><blockquote><p><a href="https://eslint.vuejs.org/" target="_blank" rel="noopener noreferrer">eslint-plugin-vue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是 eslint 官方出的用于检查 <code>.vue</code>文件的插件。</p></blockquote> <blockquote><p>这里配置的时候也可以选择<a href="">standardjs</a>、<a href="https://github.com/airbnb/javascript" target="_blank" rel="noopener noreferrer">airbnb<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>这些比较热门的代码规范，配合ESlint一起使用~</p></blockquote> <ul><li>初始化完成后生成默认配置：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .eslintrc.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 环境</span>
        <span class="token string-property property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;es2021&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 规范</span>
        <span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span> <span class="token comment">// eslint</span>
        <span class="token string">&quot;plugin:vue/essential&quot;</span> <span class="token comment">// vue</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 配置参数</span>
        <span class="token string-property property">&quot;ecmaVersion&quot;</span><span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 插件</span>
        <span class="token string">&quot;vue&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 规则</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p><strong>配置文件</strong>：使用 JavaScript、JSON 或者 YAML 文件为整个目录（处理你的主目录）和它的子目录指定配置信息。可以配置一个独立的 <code>.eslintrc.*</code> 文件，或者直接在 <code>package.json</code> 文件里的 <code>eslintConfig</code> 字段指定配置，<code>ESLint</code> 会查找和自动读取它们，再者，你可以在命令行运行时指定一个任意的配置文件。</p></blockquote> <blockquote><p>这些文件的优先级则是按照以上出现的顺序（<code>.eslintrc.js &gt; .eslintrc.yaml &gt; .eslintrc.yml &gt; .eslintrc.json &gt; .eslintrc &gt; package.json</code>）</p></blockquote> <p><a href="http://eslint.cn/docs/user-guide/configuring" target="_blank" rel="noopener noreferrer">eslint的配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="js规范检查"><a href="#js规范检查" class="header-anchor">#</a> JS规范检查</h4> <ul><li>根目录下新建 <code>index.js</code>:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;======hello&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
</code></pre></div><ul><li>先执行检查命令：<code>./node_modules/.bin/eslint index.js</code></li></ul> <blockquote><p>如果<code>eslint</code>是全局安装，可直接输入<code>eslint index.js</code>进行检测~</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>  <span class="token number">2</span>:26  error  <span class="token string">'i'</span> is assigned a value but never used    no-unused-vars <span class="token comment"># 声明变量 i 未使用</span>
  <span class="token number">3</span>:5   error  <span class="token string">'obj'</span> is assigned a value but never used  no-unused-vars <span class="token comment"># 声明变量 obj 未使用</span>

✖ <span class="token number">2</span> problems <span class="token punctuation">(</span><span class="token number">2</span> errors, <span class="token number">0</span> warnings<span class="token punctuation">)</span>
</code></pre></div><ul><li>接着在<code>rule</code>中添加几条规则：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .eslintrc.js</span>

 <span class="token string-property property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;indent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;SwitchCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 强制使用一致的缩进:warn警告； 4个空格缩进；强制 switch 语句中的 case 子句1个缩进</span>
      <span class="token string-property property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 代码段后面都加上分号</span>
      <span class="token string-property property">&quot;comma-dangle&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//对象里的最后属性不加逗号</span>
    <span class="token punctuation">}</span>
</code></pre></div><p><a href="http://eslint.cn/docs/rules/" target="_blank" rel="noopener noreferrer">eslint的rules配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>再执行<code>./node_modules/.bin/eslint index.js</code>检测一下：</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>  <span class="token number">1</span>:27  warning  Missing semicolon                             semi <span class="token comment"># 缺少分号</span>
  <span class="token number">2</span>:5   error    <span class="token string">'i'</span> is assigned a value but never used        no-unused-vars
  <span class="token number">2</span>:10  warning  Missing semicolon                             semi <span class="token comment"># 缺少分号</span>
  <span class="token number">3</span>:5   error    <span class="token string">'obj'</span> is assigned a value but never used      no-unused-vars
  <span class="token number">4</span>:1   warning  Expected indentation of <span class="token number">2</span> spaces but found <span class="token number">8</span>  indent <span class="token comment"># 缩进不对</span>
  <span class="token number">5</span>:1   warning  Expected indentation of <span class="token number">2</span> spaces but found <span class="token number">0</span>  indent <span class="token comment"># 缩进不对</span>
  <span class="token number">5</span>:5   warning  Unexpected trailing comma                     comma-dangle <span class="token comment"># 对象最后属性多了逗号</span>
  <span class="token number">7</span>:18  warning  Missing semicolon                             semi <span class="token comment"># 缺少分号</span>

✖ <span class="token number">8</span> problems <span class="token punctuation">(</span><span class="token number">2</span> errors, <span class="token number">6</span> warnings<span class="token punctuation">)</span>
</code></pre></div><blockquote><p>可以看到多了几个警告，这些就是上面加了几条校验规则后触发的提示~</p></blockquote> <ul><li>接着尝试修复下：<code>./node_modules/.bin/eslint index.js --fix</code></li></ul> <blockquote><p>自动修复后<code>index.js</code>文件格式化为这个样子了：</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;======hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 分号自动加上了</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 分号自动加上了</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 缩进自动变成4个</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// 对象最后属性的逗号去掉了, 缩进自动变成4个</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 分号自动加上了</span>
</code></pre></div><p>上面自动修复后，还有几个报错就需要手动进行修改了~</p> <h4 id="vue自动检查"><a href="#vue自动检查" class="header-anchor">#</a> Vue自动检查</h4> <blockquote><p>因为执行<code>npx eslint --init</code>初始化的时候，添加了<code>vue</code>，所以接下来试一下<code>vue</code>的自动检查~</p></blockquote> <ul><li>首先项目根目录下新建<code>index.vue</code>:</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
<span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>接着先检查一下：<code>./node_modules/.bin/eslint index.vue</code></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>   <span class="token number">1</span>:1  error    Component name <span class="token string">&quot;index&quot;</span> should always be multi-word  vue/multi-word-component-names 
   <span class="token comment"># 这个报错是 eslint-plugin-vue 中自带的检查，</span>
   <span class="token comment"># 是因为 extends 中配了 plugin:vue/essential, 改为 plugin:vue/base 就没有了</span>
   <span class="token number">8</span>:1  warning  Expected indentation of <span class="token number">2</span> spaces but found <span class="token number">0</span>        indent 
   <span class="token number">9</span>:1  warning  Expected indentation of <span class="token number">2</span> spaces but found <span class="token number">0</span>        indent
  <span class="token number">13</span>:1  warning  Expected indentation of <span class="token number">2</span> spaces but found <span class="token number">0</span>        indent
  <span class="token number">13</span>:2  warning  Unexpected trailing comma                           comma-dangle

✖ <span class="token number">5</span> problems <span class="token punctuation">(</span><span class="token number">1</span> error, <span class="token number">4</span> warnings<span class="token punctuation">)</span>
</code></pre></div><blockquote><p>上面除了第一个报错外，其他的都是刚刚添加的<code>rules</code>里面的检查规则~</p></blockquote> <ul><li>接下来添加一条<code>vue</code>的校验规则：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .eslintrc.js</span>

 <span class="token string-property property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>
      <span class="token string-property property">&quot;vue/script-indent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;baseIndent&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;switchCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//  vue中script缩进：error警告；4个空格缩进；强制 switch 语句中的 case 子句1个缩进</span>
    <span class="token punctuation">}</span>
</code></pre></div><ul><li>再次检查：</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>   <span class="token number">8</span>:1  warning  Expected indentation of <span class="token number">2</span> spaces but found <span class="token number">0</span>         indent
   <span class="token number">8</span>:1  error    Expected indentation of <span class="token number">4</span> spaces but found <span class="token number">0</span> spaces  vue/script-indent
   <span class="token number">9</span>:1  warning  Expected indentation of <span class="token number">2</span> spaces but found <span class="token number">0</span>         indent
   <span class="token number">9</span>:1  error    Expected indentation of <span class="token number">4</span> spaces but found <span class="token number">0</span> spaces  vue/script-indent
  <span class="token number">10</span>:1  error    Expected indentation of <span class="token number">8</span> spaces but found <span class="token number">4</span> spaces  vue/script-indent
  <span class="token number">12</span>:1  error    Expected indentation of <span class="token number">8</span> spaces but found <span class="token number">4</span> spaces  vue/script-indent
  <span class="token number">13</span>:1  warning  Expected indentation of <span class="token number">2</span> spaces but found <span class="token number">0</span>         indent
  <span class="token number">13</span>:1  error    Expected indentation of <span class="token number">4</span> spaces but found <span class="token number">0</span> spaces  vue/script-indent
  <span class="token number">13</span>:2  warning  Unexpected trailing comma                            comma-dangle

✖ <span class="token number">9</span> problems <span class="token punctuation">(</span><span class="token number">5</span> errors, <span class="token number">4</span> warnings<span class="token punctuation">)</span>
</code></pre></div><blockquote><p>发现多了很多<code>vue/script-indent</code>规则的报错，说明添加的规则生效了~</p></blockquote> <ul><li>接着尝试自动修复: <code>./node_modules/.bin/eslint index.vue --fix</code></li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 自动修复了缩进</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>发现<code>index.vue</code>中自动修复了一些缩进，但还有些报错需要手动进行修复了~</p> <h4 id="ts检查"><a href="#ts检查" class="header-anchor">#</a> TS检查</h4> <blockquote><p>2019 年 1 月，<code>TypeScirpt</code> 官方决定全面采用 <code>ESLint</code> 作为代码检查的工具，之后 Eslint便发布 <a href="https://github.com/typescript-eslint/typescript-eslint" target="_blank" rel="noopener noreferrer">typescript-eslint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 项目，以集中解决 TypeScript 和 ESLint 兼容性问题。</p></blockquote> <p><a href="https://www.oschina.net/news/103818/future-typescript-eslint" target="_blank" rel="noopener noreferrer">TypeScript 官方决定全面采用 ESLint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://github.com/xcatliu/typescript-tutorial/blob/master/engineering/lint.md" target="_blank" rel="noopener noreferrer">typescript-tutorial<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>在 <code>JavaScript</code> 项目中，我们一般使用 <code>ESLint</code> 来进行代码检查，它通过插件化的特性极大的丰富了适用范围，搭配 <code>typescript-eslint</code> 之后，甚至可以用来检查 <code>TypeScript</code> 代码。</p> <p><code>TypeScript</code> 关注的重心是类型的检查，而不是代码风格。当团队的人员越来越多时，同样的逻辑不同的人写出来可能会有很大的区别。</p> <p><strong>实践一下~</strong></p> <ul><li><p>新建项目：<code>mkdir eslint-ts</code></p></li> <li><p>生成脚本：<code>npm i eslint -D</code></p></li> <li><p>配置初始化：<code>npx eslint --init</code></p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>➜  eslint-ts npx eslint --init
✔ How would you like to use ESLint? · problems
✔ What <span class="token builtin class-name">type</span> of modules does your project use? · none
✔ Which framework does your project use? · vue
✔ Does your project use TypeScript? · No / Yes
✔ Where does your code run? · browser, <span class="token function">node</span>
✔ What <span class="token function">format</span> <span class="token keyword">do</span> you want your config <span class="token function">file</span> to be in? · JavaScript
The config that you've selected requires the following dependencies:

eslint-plugin-vue@latest @typescript-eslint/eslint-plugin@latest @typescript-eslint/parser@latest
✔ Would you like to <span class="token function">install</span> them now with npm? · No / Yes
Installing eslint-plugin-vue@latest, @typescript-eslint/eslint-plugin@latest, @typescript-eslint/parser@latest
</code></pre></div><blockquote><p>安装失败的话，就手动进行安装：<code>npm i eslint-plugin-vue @typescript-eslint/eslint-plugin @typescript-eslint/parser -D</code></p></blockquote> <div class="custom-block tip"><p class="custom-block-title">提示</p> <ul><li><code>@typescript-eslint/parser</code>: <code>ESLint</code>的解析器，用于解析<code>TypeScript</code>; 由于 <code>ESLint</code> 默认使用 <code>Espree</code> 进行语法解析，无法识别 <code>TypeScript</code> 的一些语法，故我们需要安装 <code>@typescript-eslint/parser</code>，替代掉默认的解析器，从而检查和规范<code>TypeScript</code>代码。</li> <li><code>@typescript-eslint/eslint-plugin</code>: 作为 eslint 默认规则的补充，提供了一些额外的适用于 <code>ts</code> 语法的规则。</li></ul></div> <p>初始化成功后，会自动<code>.eslintrc.js</code>文件：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 环境</span>
        <span class="token string-property property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;es2021&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;node&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 规范</span>
        <span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span> <span class="token comment">// eslint</span>
        <span class="token string">&quot;plugin:vue/essential&quot;</span><span class="token punctuation">,</span> <span class="token comment">// vue</span>
        <span class="token string">&quot;plugin:@typescript-eslint/recommended&quot;</span> <span class="token comment">// typescript-eslint</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 解析参数</span>
        <span class="token string-property property">&quot;ecmaVersion&quot;</span><span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@typescript-eslint/parser&quot;</span> <span class="token comment">// 解析器</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 插件</span>
        <span class="token string">&quot;vue&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;@typescript-eslint&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 自定义规则</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><ul><li><p>安装typescript: <code>npm install typescript -D</code></p></li> <li><p>创建<code>tsconfig.json</code>文件： <code>tsc init</code></p></li></ul> <blockquote><p><a href="https://www.tslang.cn/docs/handbook/compiler-options.html" target="_blank" rel="noopener noreferrer">详细配置参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <ul><li>根目录下新建<code>index.ts</code>:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">var</span> count <span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1</span>
count <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'====count'</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'====tom'</span><span class="token punctuation">,</span> tom<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>检查一下：<code>./node_modules/.bin/eslint index.ts</code></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>   <span class="token number">1</span>:1  error  Unexpected var, use <span class="token builtin class-name">let</span> or const instead                                      no-var <span class="token comment"># 不能使用 var</span>
   <span class="token number">1</span>:5  error  Type number trivially inferred from a number literal, remove <span class="token builtin class-name">type</span> annotation  @typescript-eslint/no-inferrable-types
  <span class="token number">10</span>:1  error  Unexpected var, use <span class="token builtin class-name">let</span> or const instead                                      no-var <span class="token comment"># 不能使用 var</span>

✖ <span class="token number">3</span> problems <span class="token punctuation">(</span><span class="token number">3</span> errors, <span class="token number">0</span> warnings<span class="token punctuation">)</span>
</code></pre></div><blockquote><p>可以看到上面出现了<code>@typescript-eslint</code>默认给出的提示~</p></blockquote> <ul><li>接下来新增两个规则：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .eslintc.js</span>

<span class="token string-property property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 禁止使用 var</span>
        <span class="token string-property property">'no-var'</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">// 优先使用 interface 而不是 type</span>
        <span class="token string-property property">'@typescript-eslint/consistent-type-definitions'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;interface&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;indent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;SwitchCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 强制使用一致的缩进:warn警告； 4个空格缩进；强制 switch 语句中的 case 子句1个缩进</span>
        <span class="token string-property property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 代码段后面都加上分号</span>
        <span class="token string-property property">&quot;comma-dangle&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//对象里的最后属性不加逗号</span>
    <span class="token punctuation">}</span>
</code></pre></div><ul><li>再检查一下：</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>   <span class="token number">1</span>:1   error    Unexpected var, use <span class="token builtin class-name">let</span> or const instead                                      no-var
   <span class="token number">1</span>:5   error    Type number trivially inferred from a number literal, remove <span class="token builtin class-name">type</span> annotation  @typescript-eslint/no-inferrable-types
   <span class="token number">1</span>:23  warning  Missing semicolon                                                             semi
   <span class="token number">2</span>:10  warning  Missing semicolon                                                             semi
   <span class="token number">3</span>:1   warning  Expected indentation of <span class="token number">0</span> spaces but found <span class="token number">4</span>                                  indent
  <span class="token number">10</span>:1   error    Unexpected var, use <span class="token builtin class-name">let</span> or const instead                                      no-var
  <span class="token number">11</span>:1   warning  Expected indentation of <span class="token number">2</span> spaces but found <span class="token number">4</span>                                  indent
  <span class="token number">12</span>:1   warning  Expected indentation of <span class="token number">2</span> spaces but found <span class="token number">4</span>                                  indent
  <span class="token number">13</span>:2   warning  Missing semicolon                                                             semi

✖ <span class="token number">9</span> problems <span class="token punctuation">(</span><span class="token number">3</span> errors, <span class="token number">6</span> warnings<span class="token punctuation">)</span>
</code></pre></div><blockquote><p>发现报错增多了~</p></blockquote> <ul><li>修复：<code>./node_modules/.bin/eslint index.ts</code></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> count  <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
count <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'====count'</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> tom<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'====tom'</span><span class="token punctuation">,</span> tom<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>会发现<code>index.ts</code>文件的一些格式问题就自动修复了, 其他的就需要手动修复了</p></blockquote> <p>对于<code>vue</code>的检查和上面<code>eslint-js</code>中的差不多，这里就不再赘述了~</p> <h3 id="eslintrc-js配置参考"><a href="#eslintrc-js配置参考" class="header-anchor">#</a> <code>.eslintrc.js</code>配置参考</h3> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 当前目录即为根目录，eslint规则被应用到该目录下</span>
    <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 要在配置文件里指定环境，使用 env 关键字指定你想启用的环境，并设置它们为 true</span>
      <span class="token comment">// node: true, // 会添加所有的全局变量比如global</span>
      <span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 会添加所有的浏览器变量比如Windows</span>
      <span class="token literal-property property">es6</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//  启用除了 modules 以外的所有 ECMAScript 6 特性（这个功能在设置ecmaVersion版本为6的时候自动设置）。</span>
      <span class="token literal-property property">commonjs</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// CommonJS 全局变量和 CommonJS 作用域 (用于 Browserify/WebPack 打包的只在浏览器中运行的代码)。</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">parserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 解析</span>
      <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token string">'@typescript-eslint/parser'</span><span class="token punctuation">,</span> <span class="token comment">// 解析器, ESLint 默认使用 Espree 进行语法解析</span>
      <span class="token comment">// parser: 'babel-eslint',</span>
      <span class="token literal-property property">ecmaVersion</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span> <span class="token comment">//  默认值是5，可以设置为3、5、6、7、8、9、10，用来指定使用哪一个ECMAScript版本的语法。也可以设置基于年份的JS标准，比如2015(ECMA 6)</span>
      <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">'module'</span><span class="token punctuation">,</span> <span class="token comment">// 如果你的代码是ECMAScript 模块写的，该字段配置为module，否则为script(默认值)</span>
      <span class="token literal-property property">ecmaFeatures</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 想使用的额外的语言特性</span>
        <span class="token literal-property property">jsx</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 启用 JSX</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// plugin:prettier/recommended：使用prettier中的样式规范，且如果使得ESLint会检测prettier的格式问题，同样将格式问题以error的形式抛出</span>
    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 需要继承的配置: 指定eslint规范</span>
        <span class="token string">'plugin:vue/base'</span><span class="token punctuation">,</span>
        <span class="token string">&quot;plugin:@typescript-eslint/recommended&quot;</span>
        <span class="token comment">// 'airbnb-base',</span>
        <span class="token comment">// 'plugin:prettier/recommended'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 插件,插件名称可以省略 eslint-plugin- 前缀</span>
      <span class="token string">'vue'</span><span class="token punctuation">,</span> 
      <span class="token string">'@typescript-eslint'</span><span class="token punctuation">,</span>
      <span class="token comment">// 'prettier'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">globals</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 要在配置文件中配置全局变量，请将 globals 配置属性设置为一个对象，该对象包含以你希望使用的每个全局变量</span>
      <span class="token comment">// Atomics: 'readonly', // 只被读取, 不允许重写变量</span>
      <span class="token comment">// SharedArrayBuffer: 'readonly',</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//  自定义规则，可以覆盖掉extends的配置</span>

      <span class="token string-property property">&quot;indent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;SwitchCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 强制使用一致的缩进:warn警告； 4个空格缩进；强制 switch 语句中的 case 子句1个缩进</span>
      <span class="token string-property property">&quot;quotes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;allowTemplateLiterals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// js都用单引号，template里面的html用双引号</span>
      <span class="token string-property property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 代码段后面都加上分号</span>
      <span class="token string-property property">&quot;comma-dangle&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//对象里的最后属性不加逗号</span>
      <span class="token string-property property">&quot;no-undef&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 0是忽略，1是警告，2是报错, 默认是 1</span>
      <span class="token string-property property">&quot;vue/html-self-closing&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token comment">// vue中自闭合标签：warn警告</span>
          <span class="token string-property property">&quot;html&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token string-property property">&quot;void&quot;</span><span class="token operator">:</span> <span class="token string">&quot;any&quot;</span><span class="token punctuation">,</span>
              <span class="token string-property property">&quot;normal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;any&quot;</span><span class="token punctuation">,</span>
              <span class="token string-property property">&quot;component&quot;</span><span class="token operator">:</span> <span class="token string">&quot;any&quot;</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       
      <span class="token string-property property">&quot;no-debugger&quot;</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'error'</span> <span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span> <span class="token comment">// 禁用debugger：生产环境error警告，开发环境保留</span>
      <span class="token string-property property">&quot;vue/script-indent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;baseIndent&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;switchCase&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//  vue中script缩进：error警告；4个空格缩进；强制 switch 语句中的 case 子句1个缩进</span>

      <span class="token comment">///// prettier</span>
      <span class="token comment">// &quot;prettier/prettier&quot;: &quot;error&quot; // 表示被prettier标记的地方抛出错误信息。</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 该字段定义的数据可以在所有的插件中共享。这样每条规则执行的时候都可以访问这里面定义的数据</span>
    <span class="token literal-property property">settings</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><p><a href="http://eslint.cn/docs/user-guide/configuring" target="_blank" rel="noopener noreferrer">eslint的配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="vscode配置自动检查"><a href="#vscode配置自动检查" class="header-anchor">#</a> VSCode配置自动检查</h3> <p><strong>settings.json</strong></p> <blockquote><p><a href="https://code.visualstudio.com/docs/getstarted/settings" target="_blank" rel="noopener noreferrer">settings.json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 配置可以在 vscode 全局下配置，也可以在项目下自定义配置</p></blockquote> <ol><li><p>安装<code>ESlint</code>插件</p></li> <li><p>全局配置：Code 》 首选项 》 设置 》，默认选择【用户】， 右上角转成代码，即可打开全局的配置文件</p> <blockquote><p>也可以 <code>cmd + shift + p</code>, 输入 <code>settings.json</code>, 也可以打开 <code>settings.json</code> 文件</p></blockquote></li> <li><p>自定义配置：Code 》 首选项 》 设置 》，选择【工作区】，右上角转成代码，即可打开项目的的自定义配置文件，同时会在项目根目录下生成<code>.vscode/settings.json</code>文件</p></li> <li><p>在<code>settting.json</code> 中添加自动修复指令：</p></li></ol> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token comment">// 系统配置</span>
  <span class="token property">&quot;window.zoomLevel&quot;</span><span class="token operator">:</span> <span class="token number">-2</span><span class="token punctuation">,</span> <span class="token comment">// 缩放比例</span>
  <span class="token property">&quot;editor.fontSize&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token comment">// 字体大小</span>
  <span class="token property">&quot;editor.tabSize&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">// tab 空格数</span>

  <span class="token comment">// eslint配置</span>
  <span class="token property">&quot;eslint.run&quot;</span><span class="token operator">:</span> <span class="token string">&quot;onSave&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 保存的时候执行校验</span>
  <span class="token comment">// eslint 自动修复</span>
  <span class="token property">&quot;eslint.autoFixOnSave&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;editor.codeActionsOnSave&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;source.fixAll.eslint&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eslint.validate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// eslint校验</span>
    <span class="token string">&quot;javascript&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;javascriptreact&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;html&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;html&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 检测.html</span>
      <span class="token property">&quot;autoFix&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 检测.vue</span>
      <span class="token property">&quot;autoFix&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;typescript&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 检测.ts</span>
      <span class="token property">&quot;autoFix&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="5"><li>然后重启<code>VScode</code>后，<code>cmd +s</code> 就能自动修复格式问题了~</li></ol> <blockquote><p>虽然可以在<code>settting.json</code>中单独配置格式，但是如果项目中有<code>.eslintrc.js</code>文件，那么<code>eslint</code>插件会优先执行<code>.eslintrc.js</code>文件的配置。</p></blockquote> <h3 id="备注"><a href="#备注" class="header-anchor">#</a> 备注</h3> <ul><li>每次执行<code>./node_modules/.bin/eslint index.js</code>有点繁琐，可通过配置脚本命令简化代码：</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// package.json</span>

<span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint index.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fix&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint index.ts --fix&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eslint all&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint src --ext .js&quot;</span> <span class="token comment">// 检查项目src下的 .js 文件</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><ul><li>根目录下新增<code>.eslintignore</code>文件可用于过滤无需校验的文件</li></ul> <div class="language- extra-class"><pre class="language-text"><code>/build/
/config/
/dist/
/docs/
nodule_modules
</code></pre></div><h3 id="问题记录"><a href="#问题记录" class="header-anchor">#</a> 问题记录</h3> <ul><li><strong>为什么 <code>vscode</code> 的 <code>settings.json</code> 配置了自动修复，有的项目可以，但有的项目 <code>ctrl+s</code> 之后 <code>eslint.autoFixOnSave</code> 没生效？</strong></li></ul> <blockquote><p>暂时无解~</p></blockquote> <ul><li><code>cmd + s</code>保存时报错:</li></ul> <ol><li><p><code>ESLint: Cannot find module 'eslint/use-at-your-own-risk'. Please see the 'ESLint' output channel for details.</code></p></li> <li><p><code>ESLint: /Users/admin/my-code/self/byme/eslint-test/eslint-js/.eslintrc.js: Environment key &quot;es2021&quot; is unknown . Please see the 'ESLint' output channel for details.</code></p></li></ol> <ul><li>执行<code>./node_modules/.bin/eslint index.js</code>时报错：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Oops! Something went wrong! :(

ESLint: 8.3.0

Error [ERR_REQUIRE_ESM]: Must use import to load ES Module: /Users/admin/my-code/self/byme/eslint-test/eslint-js/node_modules/@eslint/eslintrc/universal.js
</code></pre></div><blockquote><p>解决方案：node版本更新到 &gt;= <code>v12.22.0</code></p></blockquote> <ul><li><code>npm run dev</code>的时候报错：<code>warning 'alwaysShow' is not defined no-undef</code></li></ul> <blockquote><p>这是开启 eslint 代码检查报的错~</p></blockquote> <ol><li>一种是直接在webpack中报eslint检查注释掉：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// {</span>
<span class="token comment">//     test: /\.(js|vue)$/,</span>
<span class="token comment">//     use: 'eslint-loader',</span>
<span class="token comment">//     enforce: 'pre',</span>
<span class="token comment">// },</span>
</code></pre></div><blockquote><p>这样就全部去掉了代码检查，不妥~</p></blockquote> <ol start="2"><li>修改规则：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .eslintrc.js</span>

<span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;no-undef&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 引入未定义的变量; 0是忽略，1是警告，2是报错, 默认是 1</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>ts 检查代码规范的时候报错：<code>Error: Failed to load plugin '@typescript-eslint' declared in '.eslintrc.js': Cannot find module 'typescript'</code></li></ul> <blockquote><p>可能是插件没装上，重新安装一下：<code>npm install --save-dev typescript @typescript-eslint/parser @typescript-eslint/eslint-plugin</code>，</p></blockquote> <h2 id="prettier"><a href="#prettier" class="header-anchor">#</a> Prettier</h2> <blockquote><p><a href="https://www.prettier.cn/" target="_blank" rel="noopener noreferrer">Prettier<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 代码格式化工具，聚焦于代码的格式化，通过语法分析，重新整理代码的格式，让所有人的代码都保持同样的风格; 能对 html, css, js 文件进行格式化</p></blockquote> <p><code>Prettier</code> 格式化我们的代码，它调整长句，整理空格，括号等；所以它将代码作为输入，修改后的代码作为输出。</p> <blockquote><p>原理是将代码生成<code>AST</code>语法树，之后是处理<code>AST</code>，最后生成代码。</p></blockquote> <p><a href="https://www.prettier.cn/playground/" target="_blank" rel="noopener noreferrer">Prettier线上试一试<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="vscode中配置"><a href="#vscode中配置" class="header-anchor">#</a> VSCode中配置</h3> <ul><li><p>安装插件：<code>Prettier - Code formatter</code></p></li> <li><p>项目根目录下新建 RC 文件：</p></li></ul> <blockquote><p><code>prettier.config.js</code> or <code>.prettierrc.js</code></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// prettier.config.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;printWidth&quot;</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token comment">//一行的字符数，如果超过会进行换行，默认为80</span>
  <span class="token string-property property">&quot;tabWidth&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">//一个tab代表几个空格数</span>
  <span class="token string-property property">&quot;useTabs&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//是否使用tab进行缩进，默认为false，表示用空格进行缩减</span>
  <span class="token string-property property">&quot;singleQuote&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//字符串是否使用单引号，默认为false，使用双引号</span>
  <span class="token string-property property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//行位是否使用分号，默认为true</span>
  <span class="token string-property property">&quot;trailingComma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span> <span class="token comment">//是否使用尾逗号，有三个可选值&quot;&lt; none | es5 | all&gt;&quot;</span>
  <span class="token string-property property">&quot;bracketSpacing&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//对象大括号直接是否有空格，默认为true，效果：{ foo: bar }</span>
  <span class="token string-property property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue&quot;</span> <span class="token comment">//代码的解析引擎，默认为babylon，与babel相同。</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>鼠标右键 》 格式化文档 》 选择 <code>Prettier</code>, 即可对文档进行格式化</p></li> <li><p>也可在<code>VSCode</code>的 <code>settings.json</code> 文件中添加配置，实现保存时自动修复。</p></li></ul> <h3 id="项目中引入"><a href="#项目中引入" class="header-anchor">#</a> 项目中引入</h3> <ul><li>安装插件：<code>npm i @vue/eslint-config-prettier eslint-plugin-prettier prettier -D</code></li></ul> <ol><li><code>eslint-plugin-prettier</code>: 将 <code>Prettier</code> 的规则设置到 <code>ESLint</code> 的规则中；</li> <li><code>eslint-config-prettier</code>: 关闭 <code>ESLint</code> 中与 <code>Prettier</code> 中会发生冲突的规则。
<blockquote><p>通过使用<code>eslint-config-prettier</code>配置，能够关闭一些不必要的或者是与<code>prettier</code>冲突的<code>lint</code>选项。这样我们就不会看到一些<code>error</code>同时出现两次。使用的时候需要确保，这个配置在<code>extends</code>的最后一项。</p></blockquote></li></ol> <ul><li>在 <code>.eslintrc.js</code> 添加配置:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'plugin:vue/base'</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugin:prettier/recommended&quot;</span><span class="token punctuation">,</span>

<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;prettier/prettier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h2> <h3 id="vetur"><a href="#vetur" class="header-anchor">#</a> Vetur</h3> <ul><li><a href="https://vuejs.github.io/vetur/" target="_blank" rel="noopener noreferrer">Vetur<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是一个支持<code>.vue</code>文件语法高亮的<code>VSCode</code>插件，也支持代码格式化，可跟<code>Pritter</code>一起结合使用~</li></ul> <h3 id="stylelint"><a href="#stylelint" class="header-anchor">#</a> StyleLint</h3> <blockquote><p><code>StyleLint</code> 是『一个强大的、现代化的 CSS 检测工具』, 与 <code>ESLint</code> 类似, 是通过定义一系列的编码风格规则帮助我们避免在样式表中出现错误。</p></blockquote> <p><a href="https://zhuanlan.zhihu.com/p/138323526" target="_blank" rel="noopener noreferrer">css代码规范工具stylelint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>根目录下新增<code>.eslintignore</code>文件可用于过滤无需校验的文件</li></ul> <div class="language- extra-class"><pre class="language-text"><code>*.js
*.tsx
*.css
src/styles/antd-overrides.less
</code></pre></div><ul><li><a href="https://blog.csdn.net/weixin_41996102/article/details/121166987" target="_blank" rel="noopener noreferrer">stylelint 接入实战踩坑总结<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://stylelint.io/" target="_blank" rel="noopener noreferrer">Stylelint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.cnblogs.com/jiaoshou/p/11284204.html" target="_blank" rel="noopener noreferrer">StyleLint使用指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="volar"><a href="#volar" class="header-anchor">#</a> Volar</h3> <blockquote><p>与<code>vetur</code>相同，<code>volar</code>是一个针对<code>vue</code>的<code>vscode</code>插件，不过与<code>vetur</code>不同的是，<code>volar</code>提供了更为强大的功能, 可以对 <code>ts</code> 进行支持。</p></blockquote> <p><a href="https://www.imooc.com/article/317810" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://juejin.cn/post/6844903684522917902" target="_blank" rel="noopener noreferrer">深入浅出eslint——关于我学习eslint的心得<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/6844903608379506701" target="_blank" rel="noopener noreferrer">ESLint里的规则教会我，无规矩 不编程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/6990929456382607374" target="_blank" rel="noopener noreferrer">建议收藏】全网最全的讲清eslint和prettier的npm包和vscode插件的文章<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/6844903859488292871" target="_blank" rel="noopener noreferrer">最全的Eslint配置模板，从此统一团队的编程习惯<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <a href="/skills/webpack/" class="fix-link" data-v-84d70020>Back</a></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=webpack" title="标签">#webpack</a><a href="/tags/?tag=eslint" title="标签">#eslint</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">9/14/2022, 11:36:59 PM</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/more/node-deploy.html"><div>
            Vue+Node实现可视化部署工具
            <!----></div></a> <span class="date">01-21</span></dt></dl><dl><dd>02</dd> <dt><a href="/tool/vscode-plugins.html"><div>
            VSCode插件开发笔记
            <!----></div></a> <span class="date">01-08</span></dt></dl><dl><dd>03</dd> <dt><a href="/skills/vue/vue3-cli-repo.html"><div>
            开发一个快速搭建vue3项目的脚手架
            <!----></div></a> <span class="date">12-13</span></dt></dl> <dl><dd></dd> <dt><a href="/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2024
    <span>一苇 | <a href="https://beian.miit.gov.cn/" target="_blank" style="font-weight:normal"><img src="/blog/images/icp.png" width="20" height="20" alt="公网备案"/>京ICP备2021006935号-2</a> </span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----><!----><!----><div></div></div></div>
    <script src="/assets/js/app.2e7fb202.js" defer></script><script src="/assets/js/3.7ffbe2ab.js" defer></script><script src="/assets/js/158.a11096ba.js" defer></script><script src="/assets/js/4.245b4373.js" defer></script>
  </body>
</html>
